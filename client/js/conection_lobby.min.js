var index_red=1;var index_blue=1;function GetData(){socket.on("BackJoinTeam",function(a){if(a.team==0){$("#red_"+index_red).text(a.userid);index_red++}else{if(a.team==1){$("#blue_"+index_blue).text(a.userid);index_blue++}}});socket.on("BackDiscoLobby",function(b){for(;index_red>0;index_red--){$("#red_"+index_red).text("")}for(;index_blue>0;index_blue--){$("#blue_"+index_blue).text("")}index_blue++;index_red++;for(var a=0;a<b.length;a++){if(b.users[a].team==0){$("#red_"+index_red).text(b.users[a].userid);index_red++}else{if(b.users[a].team==1){$("#blue_"+index_blue).text(b.users[a].userid);index_blue++}}}});socket.on("BackNewRoomUser",function(b){data.userid=b.userid;data.userServerId=b.userServerId;data.roomid=b.roomid;data.users=b.users;$.cookie("roomid",data.roomid);$.cookie("userid",data.userid);$.cookie("userServerId",data.userServerId);for(var a=0;a<data.users.length;a++){if(data.users[a].team==0){$("#red_"+index_red).text(data.users[a].userid);index_red++}else{if(data.users[a].team==1){$("#blue_"+index_blue).text(data.users[a].userid);index_blue++}}}$("#teams").show("fast")});socket.on("BackStartGame",function(a){if(a==true){GameLoadFlag=true;window.location.replace(window.location.origin+"/game.html")}});socket.on("BackNewRoomId",function(a){data.roomid=a;$("#RoomIdLabel").text("Your room name");$("#RoomId").val(data.roomid.toString());$("#RoomId").attr("readonly","readonly");$("#drop").slideDown("fast");JoinRoom($("#Nick").val(),data.roomid)})}function CreateRoom(a){socket.emit("NewRoom",a)}function FindRoom(){socket.emit("FindRoom",{})}function StartGame(){socket.emit("StartGame",data)}function JoinRoom(a,b){data.userid=a;data.roomid=b;socket.emit("JoinRoom",data)}function JoinTeam(a){$("#btn_JoinBlue").attr("disabled","disabled");$("#btn_JoinRed").attr("disabled","disabled");$("#btn_JoinBlue").attr("class","disabled");$("#btn_JoinRed").attr("class","disabled");data.team=a;socket.emit("JoinTeam",data)};