THREE.ImageLoader=function(a){this.manager=(a!==undefined)?a:THREE.DefaultLoadingManager};THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(a,d,g,e){if(this.path!==undefined){a=this.path+a}var c=this;var b=THREE.Cache.get(a);if(b!==undefined){c.manager.itemStart(a);if(d){setTimeout(function(){d(b);c.manager.itemEnd(a)},0)}else{c.manager.itemEnd(a)}return b}var f=document.createElement("img");f.addEventListener("load",function(h){THREE.Cache.add(a,this);if(d){d(this)}c.manager.itemEnd(a)},false);if(g!==undefined){f.addEventListener("progress",function(h){g(h)},false)}f.addEventListener("error",function(h){if(e){e(h)}c.manager.itemError(a)},false);if(this.crossOrigin!==undefined){f.crossOrigin=this.crossOrigin}c.manager.itemStart(a);f.src=a;return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};