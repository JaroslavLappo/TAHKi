var THREEx=THREEx||{};THREEx.KeyboardState=function(){this.keyCodes={};this.modifiers={};var a=this;this._onKeyDown=function(b){a._onKeyChange(b,true)};this._onKeyUp=function(b){a._onKeyChange(b,false)};document.addEventListener("keydown",this._onKeyDown,false);document.addEventListener("keyup",this._onKeyUp,false)};THREEx.KeyboardState.prototype.destroy=function(){document.removeEventListener("keydown",this._onKeyDown,false);document.removeEventListener("keyup",this._onKeyUp,false)};THREEx.KeyboardState.MODIFIERS=["shift","ctrl","alt","meta"];THREEx.KeyboardState.ALIAS={left:37,up:38,right:39,down:40,space:32,pageup:33,pagedown:34,tab:9};THREEx.KeyboardState.prototype._onKeyChange=function(a,b){var c=a.keyCode;this.keyCodes[c]=b;this.modifiers.shift=a.shiftKey;this.modifiers.ctrl=a.ctrlKey;this.modifiers.alt=a.altKey;this.modifiers.meta=a.metaKey};THREEx.KeyboardState.prototype.pressed=function(a){var d=a.split("+");for(var c=0;c<d.length;c++){var b=d[c];var e;if(THREEx.KeyboardState.MODIFIERS.indexOf(b)!==-1){e=this.modifiers[b]}else{if(Object.keys(THREEx.KeyboardState.ALIAS).indexOf(b)!=-1){e=this.keyCodes[THREEx.KeyboardState.ALIAS[b]]}else{e=this.keyCodes[b.toUpperCase().charCodeAt(0)]}}if(!e){return false}}return true};